
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>4. 클래스 기본 요소 &#8212; 문제해결 알고리즘</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="5. 시간 복잡도" href="time_complexity.html" />
    <link rel="prev" title="3. 클래스와 상속" href="python_basic_3.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">문제해결 알고리즘</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  파이썬 기초
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="python_basic_1.html">
   1. 기본 자료형
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="python_basic_2.html">
   2. 제어 구조와 함수
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="python_basic_3.html">
   3. 클래스와 상속
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   4. 클래스 기본 요소
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  알고리즘 시간 복잡도
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="time_complexity.html">
   5. 시간 복잡도
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="python_list_dict.html">
   6. 파이썬 모음 자료형 분석
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  선형 자료구조
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="stacks.html">
   7. 스택
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="infix_prefix_postfix.html">
   8. 중위, 전위, 후위 표기법
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="queues.html">
   9. 큐
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="deques.html">
   10. 덱
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="linked_lists.html">
   11. 연결 리스트
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ordered_lists.html">
   12. 정렬 리스트
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  재귀
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="recursive_functions.html">
   13. 재귀
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="hanoi_tower.html">
   14. 하노이의 탑과 미로게임
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  탐색과 정렬
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="sort_search_1.html">
   15. 탐색과 분할정복
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="sort_search_2.html">
   16. 버블/선택/합병/퀵 정렬
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="sort_search_3.html">
   17. 삽입 정렬, 쉘 정렬
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  동적계획법
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="dynamic_programming_1.html">
   18. 최적화 문제와 동적계획법
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="dynamic_programming_2.html">
   19. 플로이드-워셜 최단경로 알고리즘
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="dynamic_programming_3.html">
   20. 외판원 문제
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  탐욕 기법
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="greedy_algorithm_1.html">
   21. 최소비용 신장트리
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="greedy_algorithm_2.html">
   22. 다익스트라 알고리즘
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="greedy_algorithm_3.html">
   23. 탐욕 기법 대 동적계획법
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  되추적 기법과 제네릭 프로그래밍
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="back_tracking.html">
   24. 되추적 기법
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="generic_programming.html">
   25. 제네릭 프로그래밍
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  NP 이론 소개
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="np_theory_1.html">
   26. 문제 해결 난이도
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="np_theory_2.html">
   27. NP 이론
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/codingalzi/algopy/master?urlpath=tree/jupyter-book/python_basic_4.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/codingalzi/algopy"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/codingalzi/algopy/issues/new?title=Issue%20on%20page%20%2Fpython_basic_4.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/python_basic_4.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   4.1. 클래스 일반
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     4.1.1. 다면체 주사위 클래스
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#str-repr">
     4.1.2.
     <code class="docutils literal notranslate">
      <span class="pre">
       __str__()
      </span>
     </code>
     대
     <code class="docutils literal notranslate">
      <span class="pre">
       __repr__()
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id4">
   4.2. 비교 가능 클래스
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id5">
   4.3. 공개 여부
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dict">
     4.3.1.
     <code class="docutils literal notranslate">
      <span class="pre">
       __dict__
      </span>
     </code>
     속성
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dir">
     4.3.2.
     <code class="docutils literal notranslate">
      <span class="pre">
       __dir__()
      </span>
     </code>
     매직 메서드
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     4.3.3. 게터와 세터
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id7">
   4.4. 컨테이너 클래스
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id8">
     4.4.1. 1차원 넘파이 어레이
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#for">
     4.4.2.
     <code class="docutils literal notranslate">
      <span class="pre">
       for
      </span>
     </code>
     반복문 지원
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id9">
     4.4.3. 인덱싱 지원
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id10">
   4.5. 이터레이터와 제너레이터
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id11">
     4.5.1. 이터러블 자료형과 이터레이터
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id12">
     4.5.2. 제너레이터
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id13">
   4.6. 연습문제
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>클래스 기본 요소</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   4.1. 클래스 일반
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id3">
     4.1.1. 다면체 주사위 클래스
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#str-repr">
     4.1.2.
     <code class="docutils literal notranslate">
      <span class="pre">
       __str__()
      </span>
     </code>
     대
     <code class="docutils literal notranslate">
      <span class="pre">
       __repr__()
      </span>
     </code>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id4">
   4.2. 비교 가능 클래스
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id5">
   4.3. 공개 여부
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dict">
     4.3.1.
     <code class="docutils literal notranslate">
      <span class="pre">
       __dict__
      </span>
     </code>
     속성
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dir">
     4.3.2.
     <code class="docutils literal notranslate">
      <span class="pre">
       __dir__()
      </span>
     </code>
     매직 메서드
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     4.3.3. 게터와 세터
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id7">
   4.4. 컨테이너 클래스
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id8">
     4.4.1. 1차원 넘파이 어레이
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#for">
     4.4.2.
     <code class="docutils literal notranslate">
      <span class="pre">
       for
      </span>
     </code>
     반복문 지원
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id9">
     4.4.3. 인덱싱 지원
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id10">
   4.5. 이터레이터와 제너레이터
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id11">
     4.5.1. 이터러블 자료형과 이터레이터
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id12">
     4.5.2. 제너레이터
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id13">
   4.6. 연습문제
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="id1">
<h1><span class="section-number">4. </span>클래스 기본 요소<a class="headerlink" href="#id1" title="Permalink to this headline">#</a></h1>
<p><strong>소스코드</strong></p>
<p>아래 내용을
<a class="reference external" href="https://colab.research.google.com/github/codingalzi/algopy/blob/master/jupyter-book/python_basic_4.ipynb">(구글 코랩) 파이썬 기초 4부: 모음 추상 자료형</a>에서
직접 실행할 수 있다.</p>
<p><strong>주요 내용</strong></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">__str__()</span></code> 대 <code class="docutils literal notranslate"><span class="pre">__repr__()</span></code></p></li>
<li><p>비교 가능 클래스</p></li>
<li><p>공개 여부</p></li>
<li><p>컨테이너 클래스</p></li>
<li><p>이터레이터와 제너레이터</p></li>
</ul>
<section id="id2">
<h2><span class="section-number">4.1. </span>클래스 일반<a class="headerlink" href="#id2" title="Permalink to this headline">#</a></h2>
<p>클래스를 선언할 때 기본적으로 아래 요소들이 지원되도록 해야 한다.</p>
<ul>
<li><p>문서화: <strong>문서화 문자열</strong>(독스트링, docstring) 기능을 이용하여 해당 클래스의 기능과 사용법을 설명한다.
세 개의 큰 따옴표(<code class="docutils literal notranslate"><span class="pre">&quot;&quot;&quot;</span></code>)로 감싸인 문장으로 작성한다.</p></li>
<li><p>출력 지원</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">__str__()</span></code> 매직 메서드 구현: <code class="docutils literal notranslate"><span class="pre">print()</span></code>함수를 이용하여 해당 인스턴스를 출력할 때 활용한다.</p></li>
</ul>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">__repr__()</span></code> 매직 메서드 구현: 대화형 쉘, 디버깅 과정,
또는 <code class="docutils literal notranslate"><span class="pre">print()</span></code> 함수가 영향을 미치지 못하는 곳에서 해당 인스턴스를 출력할 때 활용된다.</p></li>
</ul>
</li>
</ul>
<p>이와 더불어 클래스의 인스턴스들을 대상으로 크기 비교를 하려면 최소 아래 두 매직 메서드를 구현해야 한다.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">__eq__()</span></code>: 동등성 비교</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__lt__()</span></code>: 작은지 여부 비교</p></li>
</ul>
<p>경우에 따라 인스턴스 내부에서만 사용되고 외부로 굳이 알려질 필요가
없는 인스턴스 변수 각각에 대해 아래 사항을 지정할 수 있다.</p>
<ul class="simple">
<li><p>공개 여부</p></li>
<li><p>읽기 전용 여부</p></li>
</ul>
<p>다면체 주사위 클래스를 이용하여 파이썬 클래스 선언에 기본적으로 필요한 요소들을 확인한다.</p>
<section id="id3">
<h3><span class="section-number">4.1.1. </span>다면체 주사위 클래스<a class="headerlink" href="#id3" title="Permalink to this headline">#</a></h3>
<p>다면체 주사위 객체 생성에 사용되는 <code class="docutils literal notranslate"><span class="pre">MSDie</span></code> 클래스를 선언한 후에 한 단계씩
업데이트 하는 과정을 살펴본다.
<code class="docutils literal notranslate"><span class="pre">MSDie</span></code> 클래스에 기본으로 포함되는 두 메서드는 다음과 같다.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">__init__()</span></code> 메서드: 생성되는 주사위는 지정된 개수의 면을 갖는다.
즉, 4면체, 6면체, 7면체 등 다면체 주사위 객체를 생성할 수 있도록 생성자를 정의한다.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">roll()</span></code> 메서드: 주사위 객체를 생성할 때 주사위가 가리키는 값을 하나 무작위로 지정하도록 한 다음에
필요에 따라 주사위 굴리기를 실행하고 그 결과를 저장하도록 한다.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="k">class</span> <span class="nc">MSDie</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    다면체 주사위</span>
<span class="sd">    </span>
<span class="sd">    인스턴스 변수: </span>
<span class="sd">        num_sides: 면 개수</span>
<span class="sd">        current_value: 주사위를 굴린 결과</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_sides</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span> <span class="o">=</span> <span class="n">num_sides</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll</span><span class="p">()</span>   <span class="c1"># 주사위 굴리기 먼저 실행</span>

    <span class="k">def</span> <span class="nf">roll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>   <span class="c1"># 주사위 굴리기</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># 무작위 생성</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span>
</pre></div>
</div>
</div>
</div>
<p>6면체 주사위 객체를 하나 생성하여 5번 굴린 결과를 확인한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_die</span> <span class="o">=</span> <span class="n">MSDie</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">my_die</span><span class="p">,</span> <span class="n">my_die</span><span class="o">.</span><span class="n">current_value</span><span class="p">)</span>
    <span class="n">my_die</span><span class="o">.</span><span class="n">roll</span><span class="p">()</span>    <span class="c1"># 주사위 새로 굴리기</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;__main__.MSDie object at 0x7f6db8e80940&gt; 1
&lt;__main__.MSDie object at 0x7f6db8e80940&gt; 3
&lt;__main__.MSDie object at 0x7f6db8e80940&gt; 5
&lt;__main__.MSDie object at 0x7f6db8e80940&gt; 4
&lt;__main__.MSDie object at 0x7f6db8e80940&gt; 2
</pre></div>
</div>
</div>
</div>
</section>
<section id="str-repr">
<h3><span class="section-number">4.1.2. </span><code class="docutils literal notranslate"><span class="pre">__str__()</span></code> 대 <code class="docutils literal notranslate"><span class="pre">__repr__()</span></code><a class="headerlink" href="#str-repr" title="Permalink to this headline">#</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">print(my_die)</span></code>가 <code class="docutils literal notranslate"><span class="pre">num_sides</span></code>와 <code class="docutils literal notranslate"><span class="pre">current_value</span></code>를 활용하여 적절한 출력을
만들어 내도록 하려면 <code class="docutils literal notranslate"><span class="pre">__str__()</span></code> 매직 메서드가 적절한 문자열을 출력하도록 해야 한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="k">class</span> <span class="nc">MSDie</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    다면체 주사위</span>
<span class="sd">    </span>
<span class="sd">    인스턴스 변수: </span>
<span class="sd">        num_sides: 면 개수</span>
<span class="sd">        current_value: 주사위를 굴린 결과</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_sides</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span> <span class="o">=</span> <span class="n">num_sides</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll</span><span class="p">()</span>   <span class="c1"># 주사위 굴리기 먼저 실행</span>

    <span class="k">def</span> <span class="nf">roll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>   <span class="c1"># 주사위 굴리기</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;MSDie(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span><span class="si">}</span><span class="s2">)&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_die</span> <span class="o">=</span> <span class="n">MSDie</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">my_die</span><span class="p">,</span> <span class="s2">&quot;- 가리키는 값은&quot;</span><span class="p">,</span> <span class="n">my_die</span><span class="o">.</span><span class="n">current_value</span><span class="p">)</span>
    <span class="n">my_die</span><span class="o">.</span><span class="n">roll</span><span class="p">()</span>    <span class="c1"># 주사위 새로 굴리기</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>MSDie(6) - 가리키는 값은 3
MSDie(6) - 가리키는 값은 4
MSDie(6) - 가리키는 값은 4
MSDie(6) - 가리키는 값은 6
MSDie(6) - 가리키는 값은 6
</pre></div>
</div>
</div>
</div>
<p>하지만 <code class="docutils literal notranslate"><span class="pre">print()</span></code> 함수를 사용하지 않고 값을 확인하려 하면 제대로 작동하지 않는다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_die</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;__main__.MSDie at 0x7f6db46645e0&gt;
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">print()</span></code> 함수를 사용하더라도 다면체 주사위로 구성된 리스트를 출력하려 하면
원하는 대로 작동하지 않는다.
즉, 리스트의 항목에 대해서는 <code class="docutils literal notranslate"><span class="pre">print()</span></code> 함수가 영향을 미치지 못한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">MSDie</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span> <span class="n">MSDie</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;__main__.MSDie object at 0x7f6db4654370&gt;, &lt;__main__.MSDie object at 0x7f6db4654f70&gt;]
</pre></div>
</div>
</div>
</div>
<p>이 문제를 해결하려면 <code class="docutils literal notranslate"><span class="pre">__repr__()</span></code> 매직 메서드의 반환값을 적절한 문자열로 지정해야 한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="k">class</span> <span class="nc">MSDie</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    다면체 주사위</span>
<span class="sd">    </span>
<span class="sd">    인스턴스 변수: </span>
<span class="sd">        num_sides: 면 개수</span>
<span class="sd">        current_value: 주사위를 굴린 결과</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_sides</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span> <span class="o">=</span> <span class="n">num_sides</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll</span><span class="p">()</span>   <span class="c1"># 주사위 굴리기 먼저 실행</span>

    <span class="k">def</span> <span class="nf">roll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>   <span class="c1"># 주사위 굴리기</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;MSDie(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span><span class="si">}</span><span class="s2">)&quot;</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;MSDie(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span><span class="si">}</span><span class="s2">):</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">current_value</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">MSDie</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span> <span class="n">MSDie</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[MSDie(6):2, MSDie(20):12]
</pre></div>
</div>
</div>
</div>
<p>앞서 보인 것처럼 <code class="docutils literal notranslate"><span class="pre">__str__()</span></code>과 <code class="docutils literal notranslate"><span class="pre">__repr__()</span></code>를 구분해서 각자의 역할에 따라
객체를 다른 식으로 보여준다.
하지만 굳이 구분하지 않겠다면 <code class="docutils literal notranslate"><span class="pre">__repr__()</span></code> 만 정의해도 된다.
그러면 <code class="docutils literal notranslate"><span class="pre">__str__()</span></code>이 필요한 경우 대신 <code class="docutils literal notranslate"><span class="pre">__repr__()</span></code>가 사용된다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="k">class</span> <span class="nc">MSDie</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    다면체 주사위</span>
<span class="sd">    </span>
<span class="sd">    인스턴스 변수: </span>
<span class="sd">        num_sides: 면 개수</span>
<span class="sd">        current_value: 주사위를 굴린 결과</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_sides</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span> <span class="o">=</span> <span class="n">num_sides</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll</span><span class="p">()</span>   <span class="c1"># 주사위 굴리기 먼저 실행</span>

    <span class="k">def</span> <span class="nf">roll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>   <span class="c1"># 주사위 굴리기</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;MSDie(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span><span class="si">}</span><span class="s2">):</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">current_value</span><span class="si">}</span><span class="s2">&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">my_die</span> <span class="o">=</span> <span class="n">MSDie</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">my_die</span><span class="p">)</span>
    <span class="n">my_die</span><span class="o">.</span><span class="n">roll</span><span class="p">()</span>    <span class="c1"># 주사위 새로 굴리기</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>MSDie(6):2
MSDie(6):2
MSDie(6):2
MSDie(6):2
MSDie(6):3
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">d_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">MSDie</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span> <span class="n">MSDie</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[MSDie(6):2, MSDie(20):8]
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="id4">
<h2><span class="section-number">4.2. </span>비교 가능 클래스<a class="headerlink" href="#id4" title="Permalink to this headline">#</a></h2>
<p><strong>비교 연산자</strong></p>
<p>두 주사위 객체의 동등성(equality) 여부를 어떻게 판단할까?
두 주사위가 가리키는 값이 같을 때? 주사위 면의 수가 다르면?
두 주사위의 크기 비교는 어떻게?
이런 질문들에 답하려면 객체 비교와 관련된 몇 개의 매직 메서드를 선언해야 한다.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">__lt__</span></code>: 작다 연산자(<code class="docutils literal notranslate"><span class="pre">&lt;</span></code>) 지원</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__gt__</span></code>: 크다 연산자(<code class="docutils literal notranslate"><span class="pre">&gt;</span></code>) 지원</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__eq__</span></code>: 동등성 연산자(<code class="docutils literal notranslate"><span class="pre">==</span></code>) 지원</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__le__</span></code>: 작거나 같다 연산자(<code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>) 지원</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__ge__</span></code>: 크거나 같다 연산자(<code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>) 지원</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__ne__</span></code>: 비동등성(<code class="docutils literal notranslate"><span class="pre">!=</span></code>) 지원</p></li>
</ul>
<p>먼저 두 주사의 크기 비교를 주사위가 가리키는 값(<code class="docutils literal notranslate"><span class="pre">current_value</span></code>)만 이용하여 지정한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="k">class</span> <span class="nc">MSDie</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    다면체 주사위</span>
<span class="sd">    </span>
<span class="sd">    인스턴스 변수: </span>
<span class="sd">        num_sides: 면 개수</span>
<span class="sd">        current_value: 주사위를 굴린 결과</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_sides</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span> <span class="o">=</span> <span class="n">num_sides</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll</span><span class="p">()</span>   <span class="c1"># 주사위 굴리기 먼저 실행</span>

    <span class="k">def</span> <span class="nf">roll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>   <span class="c1"># 주사위 굴리기</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;MSDie(</span><span class="si">{}</span><span class="s2">) : </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span><span class="p">)</span>

    <span class="c1"># 크기 비교 연산자 지원</span>
    
    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">current_value</span>

    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">current_value</span>

    <span class="k">def</span> <span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">&lt;=</span> <span class="n">other</span><span class="o">.</span><span class="n">current_value</span>    
</pre></div>
</div>
</div>
</div>
<p>비교 연산자들의 활용법은 모두 아래 형식을 따른다.
아래 표현식에서 <code class="docutils literal notranslate"><span class="pre">self</span></code>는 비교의 중심이 되는 객체를, <code class="docutils literal notranslate"><span class="pre">other</span></code>는 비교 대상 객체를 가리킨다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">)</span>
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">MSDie</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">MSDie</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>

<span class="n">x</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">y</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="mi">5</span>

<span class="nb">print</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
False
False
</pre></div>
</div>
</div>
</div>
<p><strong>최소로 필요한 비교 연산자</strong></p>
<p>앞서 <code class="docutils literal notranslate"><span class="pre">__gt__()</span></code>, <code class="docutils literal notranslate"><span class="pre">__ge__()</span></code>, <code class="docutils literal notranslate"><span class="pre">__ne__()</span></code> 매직 메서드를 정의하지 않았지만
자동으로 지원된다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">x</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="o">&gt;=</span><span class="n">y</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
True
True
</pre></div>
</div>
</div>
</div>
<p><strong>모양이 다른 다면체 비교</strong></p>
<p>모양이 다른 다면체 사이의 비교는 무조건 거짓으로 정할 수도 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="k">class</span> <span class="nc">MSDie</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    다면체 주사위</span>
<span class="sd">    </span>
<span class="sd">    인스턴스 변수: </span>
<span class="sd">        num_sides: 면 개수</span>
<span class="sd">        current_value: 주사위를 굴린 결과</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_sides</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span> <span class="o">=</span> <span class="n">num_sides</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll</span><span class="p">()</span>   <span class="c1"># 주사위 굴리기 먼저 실행</span>

    <span class="k">def</span> <span class="nf">roll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>   <span class="c1"># 주사위 굴리기</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span>

    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;MSDie(</span><span class="si">{}</span><span class="s2">) : </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span><span class="p">)</span>

    <span class="c1"># 크기 비교 연산자 지원</span>
    
    <span class="k">def</span> <span class="fm">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_sides</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">current_value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="fm">__lt__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_sides</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">&lt;</span> <span class="n">other</span><span class="o">.</span><span class="n">current_value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

    <span class="k">def</span> <span class="fm">__le__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">num_sides</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">&lt;=</span> <span class="n">other</span><span class="o">.</span><span class="n">current_value</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
</pre></div>
</div>
</div>
</div>
<p>모양이 다른 다면체 두 개를 생성한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">MSDie</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">MSDie</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>이제 모든 비교는 거짓이 된다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">y</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="mi">6</span>

<span class="nb">print</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">y</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="mi">7</span>

<span class="nb">print</span><span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">y</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="mi">7</span>

<span class="nb">print</span><span class="p">(</span><span class="n">x</span> <span class="o">&lt;=</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<p>모양이 동일해야 가리키는 값을 기준으로 비교한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">MSDie</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">MSDie</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">y</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="mi">6</span>

<span class="nb">print</span><span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">y</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="mi">7</span>

<span class="nb">print</span><span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">y</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="mi">7</span>

<span class="nb">print</span><span class="p">(</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
</section>
<section id="id5">
<h2><span class="section-number">4.3. </span>공개 여부<a class="headerlink" href="#id5" title="Permalink to this headline">#</a></h2>
<p>자바 언어의 클래스 선언에 사용되는 private, default, protected, public 등과 같은
접근 제어자는 파이썬에서 지원되지 않는다.
파이썬에서 클래스의 모든 것은 공개(public)되기에
클래스 외부로부터의 접근과 수정이 가능하다.</p>
<p>그럼에도 불구하고 일부 변수와 메서드를 특별한 방식으로 이름을 지어 외부 노출을 최대한
줄일 수 있다.</p>
<ul class="simple">
<li><p>두 개의 밑줄(<code class="docutils literal notranslate"><span class="pre">__</span></code>)로 시작하기: 숨기고자 하는 속성 변수와 메서드 이름</p></li>
<li><p>한 개의 밑줄(<code class="docutils literal notranslate"><span class="pre">_</span></code>)로 시작하기: 숨길 것 까지는 아니지만
내부용이라 굳이 클래스 외부에서 알 필요까지는 없는 속성 변수와 메서드 이름</p></li>
</ul>
<p>아래 코드는 MSDie 클래스의 생성자를 조금 수정하였다.
수정된 내용은 주사위를 굴렸을 때 나온 값에 <code class="docutils literal notranslate"><span class="pre">__hidden1</span></code>을 곱한 후에 <code class="docutils literal notranslate"><span class="pre">_hidden2</span></code>로
나눈 결과를 <code class="docutils literal notranslate"><span class="pre">current_value</span></code>로 가리키도록 하였다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="k">class</span> <span class="nc">MSDie</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    다면체 주사위</span>
<span class="sd">    </span>
<span class="sd">    인스턴스 변수: </span>
<span class="sd">        num_sides: 면 개수</span>
<span class="sd">        current_value: 주사위를 굴린 결과</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_sides</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__hidden1</span> <span class="o">=</span> <span class="mi">3</span>                  <span class="c1"># 이름 뒤섞기</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hidden2</span> <span class="o">=</span> <span class="mi">7</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span> <span class="o">=</span> <span class="n">num_sides</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll</span><span class="p">()</span>    <span class="c1"># 주사위 굴리기 먼저 실행</span>

    <span class="k">def</span> <span class="nf">__randNum</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">roll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>   <span class="c1"># 주사위 굴리기</span>
        <span class="n">randNum</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__randNum</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__hidden1</span> <span class="o">*</span> <span class="n">randNum</span><span class="p">)</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hidden2</span> 
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">MSDie</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>현재 가리키는 값이 이제는 <code class="docutils literal notranslate"><span class="pre">__hidden1</span></code>과 <code class="docutils literal notranslate"><span class="pre">_hidden2</span></code>에 의존한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">current_value</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6
</pre></div>
</div>
</div>
</div>
<p>그런데 두 밑줄로 시작하는 <code class="docutils literal notranslate"><span class="pre">__hidden1</span></code> 속성은 인스턴스 변수로 확인할 수 없다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">__hidden1</span>
<span class="go">AttributeError                            Traceback (most recent call last)</span>
<span class="go">Input In [18], in &lt;module&gt;</span>
<span class="go">----&gt; 1 x.__hidden1</span>

<span class="go">AttributeError: &#39;MSDie&#39; object has no attribute &#39;__hidden1&#39;</span>
</pre></div>
</div>
<p>반면에 하나의 밑줄로 시작하는 <code class="docutils literal notranslate"><span class="pre">_hidden2</span></code> 속성은 인스턴스 변수로 값이 확인된다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">_hidden2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>7
</pre></div>
</div>
</div>
</div>
<p>함수에 대해서도 동일하게 작동한다.
<code class="docutils literal notranslate"><span class="pre">__randNum()</span></code> 함수는 외부에 노출되지 않는다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">__randNum</span><span class="p">()</span>
<span class="go">AttributeError                            Traceback (most recent call last)</span>
<span class="go">c:\Users\gslee\Documents\GitHub\algopy\jupyter-book\python_basic_4.ipynb 셀 56 in &lt;cell line: 1&gt;()</span>
<span class="go">----&gt; 1 x.__randNum</span>

<span class="go">AttributeError: &#39;MSDie&#39; object has no attribute &#39;__randNum&#39;</span>
</pre></div>
</div>
<section id="dict">
<h3><span class="section-number">4.3.1. </span><code class="docutils literal notranslate"><span class="pre">__dict__</span></code> 속성<a class="headerlink" href="#dict" title="Permalink to this headline">#</a></h3>
<p>객체 <code class="docutils literal notranslate"><span class="pre">x</span></code>가 갖는 인스턴스 속성을 확인하면 다음과 같이
속성 변수와 해당 속성값으로 이루어진 사전을 얻는다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="vm">__dict__</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;_MSDie__hidden1&#39;: 3, &#39;_hidden2&#39;: 7, &#39;num_sides&#39;: 6, &#39;current_value&#39;: 6}
</pre></div>
</div>
</div>
</div>
<p>그런데 <code class="docutils literal notranslate"><span class="pre">__hidden1</span></code> 변수 대신에 <code class="docutils literal notranslate"><span class="pre">_MSDie__hidden1</span></code>과 속성값이 확인된다.
이처럼 두 개의 밑줄로 시작하는 변수의 이름이 내부적으로 클래스 이름이 붙는 방식으로 변경된다.
이를 <strong>이름 뒤섞기</strong>(name mangling)라 한다.
변경된 이름을 이용하면 속성이 확인된다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">_MSDie__hidden1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3
</pre></div>
</div>
</div>
</div>
</section>
<section id="dir">
<h3><span class="section-number">4.3.2. </span><code class="docutils literal notranslate"><span class="pre">__dir__()</span></code> 매직 메서드<a class="headerlink" href="#dir" title="Permalink to this headline">#</a></h3>
<p>객체가 사용할 수 있는 모든 속성과 메서드를 리스트로 보려면
<code class="docutils literal notranslate"><span class="pre">__dir__()</span></code> 매직 메서드를 사용한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="fm">__dir__</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;_MSDie__hidden1&#39;,
 &#39;_hidden2&#39;,
 &#39;num_sides&#39;,
 &#39;current_value&#39;,
 &#39;__module__&#39;,
 &#39;__doc__&#39;,
 &#39;__init__&#39;,
 &#39;_MSDie__randNum&#39;,
 &#39;roll&#39;,
 &#39;__dict__&#39;,
 &#39;__weakref__&#39;,
 &#39;__repr__&#39;,
 &#39;__hash__&#39;,
 &#39;__str__&#39;,
 &#39;__getattribute__&#39;,
 &#39;__setattr__&#39;,
 &#39;__delattr__&#39;,
 &#39;__lt__&#39;,
 &#39;__le__&#39;,
 &#39;__eq__&#39;,
 &#39;__ne__&#39;,
 &#39;__gt__&#39;,
 &#39;__ge__&#39;,
 &#39;__new__&#39;,
 &#39;__reduce_ex__&#39;,
 &#39;__reduce__&#39;,
 &#39;__subclasshook__&#39;,
 &#39;__init_subclass__&#39;,
 &#39;__format__&#39;,
 &#39;__sizeof__&#39;,
 &#39;__dir__&#39;,
 &#39;__class__&#39;]
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">dir()</span></code> 함수는 <code class="docutils literal notranslate"><span class="pre">__dir__()</span></code> 메서드를 활용한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">dir</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;_MSDie__hidden1&#39;,
 &#39;_MSDie__randNum&#39;,
 &#39;__class__&#39;,
 &#39;__delattr__&#39;,
 &#39;__dict__&#39;,
 &#39;__dir__&#39;,
 &#39;__doc__&#39;,
 &#39;__eq__&#39;,
 &#39;__format__&#39;,
 &#39;__ge__&#39;,
 &#39;__getattribute__&#39;,
 &#39;__gt__&#39;,
 &#39;__hash__&#39;,
 &#39;__init__&#39;,
 &#39;__init_subclass__&#39;,
 &#39;__le__&#39;,
 &#39;__lt__&#39;,
 &#39;__module__&#39;,
 &#39;__ne__&#39;,
 &#39;__new__&#39;,
 &#39;__reduce__&#39;,
 &#39;__reduce_ex__&#39;,
 &#39;__repr__&#39;,
 &#39;__setattr__&#39;,
 &#39;__sizeof__&#39;,
 &#39;__str__&#39;,
 &#39;__subclasshook__&#39;,
 &#39;__weakref__&#39;,
 &#39;_hidden2&#39;,
 &#39;current_value&#39;,
 &#39;num_sides&#39;,
 &#39;roll&#39;]
</pre></div>
</div>
</div>
</div>
<p>위 리스트에서 확인할 수 있듯이 <code class="docutils literal notranslate"><span class="pre">_MSDie__randNum</span></code>가 목록에 포함되어 있으며 호출이 가능하다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">_MSDie__randNum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5
</pre></div>
</div>
</div>
</div>
<p>결론적으로 이름 뒤섞기는 일부 속성과 메서드의 이름이 외부로 쉽게 노출되지 않도록 하는 기법이다.
단, 완전히 차단하는 것은 아니다.</p>
</section>
<section id="id6">
<h3><span class="section-number">4.3.3. </span>게터와 세터<a class="headerlink" href="#id6" title="Permalink to this headline">#</a></h3>
<p>하나의 밑줄을 사용하는 <code class="docutils literal notranslate"><span class="pre">_hidden2</span></code>는 숨길 것 까지는 아니지만 클래스 내부용이란 사실을 반영한 이름이다.
그리고 이런 변수와 메서드는 사용자가 직접 값을 수정하기 보다는
<strong>세터</strong>(setter)와 <strong>게터</strong>(getter) 메서드를 이용하여
클래스의 외부와 내부 사이를 중개하도록 하는 것이 좋다.
이렇게 하면 사용자 입장에서는 클래스 내부에 대한 최소한의 정보만 이용하여
객체 속성 정보를 확인하고 이용할 수 있다.</p>
<p>아래 코드는 <code class="docutils literal notranslate"><span class="pre">current_value</span></code>를 지정하고 확인하는 세터와 게터,
그리고 <code class="docutils literal notranslate"><span class="pre">_hidden2</span></code>를 지정하는 세터를 선언한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>

<span class="k">class</span> <span class="nc">MSDie</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    다면체 주사위</span>
<span class="sd">    </span>
<span class="sd">    인스턴스 변수: </span>
<span class="sd">        num_sides: 면 개수</span>
<span class="sd">        current_value: 주사위를 굴린 결과</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num_sides</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__hidden1</span> <span class="o">=</span> <span class="mi">3</span>                  <span class="c1"># 이름 뒤섞기</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hidden2</span> <span class="o">=</span> <span class="mi">7</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span> <span class="o">=</span> <span class="n">num_sides</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">roll</span><span class="p">()</span>    <span class="c1"># 주사위 굴리기 먼저 실행</span>

    <span class="k">def</span> <span class="nf">__randNum</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">num_sides</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">roll</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>   <span class="c1"># 주사위 굴리기</span>
        <span class="n">randNum</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__randNum</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__hidden1</span> <span class="o">*</span> <span class="n">randNum</span><span class="p">)</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">_hidden2</span> 
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span>

    <span class="k">def</span> <span class="nf">get_current_value</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span>
    
    <span class="k">def</span> <span class="nf">set_current_value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">current_value</span> <span class="o">=</span> <span class="n">num</span>
    
    <span class="k">def</span> <span class="nf">set_hidden2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">num</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_hidden2</span> <span class="o">=</span> <span class="n">num</span>
</pre></div>
</div>
</div>
</div>
<p>6면체 주사위 객체를 하나 생성한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">MSDie</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>현재 가리키는 다음과 같다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">current_value</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
</div>
</div>
<p>가리키는 값을 임의의 값으로 변경하려면
<code class="docutils literal notranslate"><span class="pre">set_current_value()</span></code> 메서드를 이용한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">set_current_value</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">x</span><span class="o">.</span><span class="n">get_current_value</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">set_current_value</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="n">x</span><span class="o">.</span><span class="n">get_current_value</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>8
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">_hidden2</span></code> 속성도 유사하게 변경할 수 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">set_hidden2</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">.</span><span class="n">_hidden2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>11
</pre></div>
</div>
</div>
</div>
<p><strong>예제: 수도쿠 게임서의 게터와 세터 활용</strong></p>
<p>수도쿠를 구현할 때 빈칸에 넣을 숫자를 입력하면 (눈에 보이는) 앱의 백엔드에서
일종의 세터가 작동해서 지정된 위치한 사용자 입력한 값을 지정한다.
반면에 이미 지정된 위치에 자리잡은 값은 게터에 의해 읽혀서 앱을 통해 사용자에게
시작적으로 전달된다.</p>
<p>예를 들어 아래 수도쿠 문제에서 2행 3열에 새로운 값 6을 입력하면 세터가 받아 앱 내부에서
입력된 값을 해당 위치의 값으로 저장한다.
반면에 5행 6열에 위치한 7은 게터가 해당 위치에 저장된 값을 읽어서
그래픽 요소를 담당하는 API에 전달한다.</p>
<div align="center"><img src="https://raw.githubusercontent.com/codingalzi/algopy/master/jupyter-book/imgs/ch04-sudoku.jpg" width="70%"></div></section>
</section>
<section id="id7">
<h2><span class="section-number">4.4. </span>컨테이너 클래스<a class="headerlink" href="#id7" title="Permalink to this headline">#</a></h2>
<p>모음 자료형을 추상 자료형 클래스를 이용하여 정의하려면
경우에 따라 아래 사항들도 고려해야 한다.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">len()</span></code> 함수 지원</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">for</span></code> 반복문 지원</p></li>
<li><p>대괄호 (<code class="docutils literal notranslate"><span class="pre">[]</span></code>) 인덱싱 지원</p></li>
</ul>
<p>모음 자료형 객체가 속하는 클래스를 일명 <strong>컨테이너 클래스</strong>라 하며,
앞으로 스택, 큐, 그래프, 트리 등을 다룰 때 중요한 역할을 수행한다.
여기서는 앞서 언급한 요소들을 구현하는 과정을 살펴본다.</p>
<section id="id8">
<h3><span class="section-number">4.4.1. </span>1차원 넘파이 어레이<a class="headerlink" href="#id8" title="Permalink to this headline">#</a></h3>
<p>아래 코드는 벡터, 즉 1차원 넘파이 어레이에 해당하는 자료형을 리스트를 이용하여 직접 구현한다.
일반 리스트의 경우와는 달리 1차원 어레이에 대한 덧셈 연산이 항목별로 이루어진다.</p>
<p><strong>참고:</strong> <a class="reference external" href="https://codingalzi.github.io/algopy/python_basic_3.html">파이썬 기초 3부: 클래스와 상속</a>에서 정의된 <code class="docutils literal notranslate"><span class="pre">Vector</span></code> 클래스와는 다르게 상속을 사용하지 않는다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">OneDArray</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        items: 1차원 어레이 항목으로 사용될 값들. </span>
<span class="sd">               정수 또는 부동소수점들의 리스트, 튜플 등 모음 자료형 사용.</span>
<span class="sd">        저장: 리스트 활용</span>
<span class="sd">        &quot;&quot;&quot;</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
        
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;myArray(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="si">}</span><span class="s2">)&quot;</span>
    
    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;항목별 덧셈 연산&quot;&quot;&quot;</span>

        <span class="c1"># 어레이 길이가 동일하지 않으면 오류 발생시킴</span>
        <span class="c1"># raise와 RuntimeError 활용</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">items</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;길이가 달라요!&quot;</span><span class="p">)</span>

        <span class="c1"># 항목별 덧셈 실행</span>
        <span class="n">main_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">main_object</span><span class="p">)):</span>
            <span class="n">main_object</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">other</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">OneDArray</span><span class="p">(</span><span class="n">main_object</span><span class="p">)</span>
    
<span class="n">oneD1</span> <span class="o">=</span> <span class="n">OneDArray</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="n">oneD2</span> <span class="o">=</span> <span class="n">OneDArray</span><span class="p">([</span><span class="mi">11</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">33</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>덧셈 연산이 항목별로 이루어진다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">oneD1</span> <span class="o">+</span> <span class="n">oneD2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>myArray([13, 25, 37])
</pre></div>
</div>
</div>
</div>
<p><strong><code class="docutils literal notranslate"><span class="pre">len()</span></code> 함수 지원</strong></p>
<p>그런데 포함된 항목의 개수를 쉽게 확인할 수 없다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">len</span><span class="p">(</span><span class="n">oneD1</span><span class="p">)</span>
<span class="go">TypeError                                 Traceback (most recent call last)</span>
<span class="go">Input In [33], in &lt;module&gt;</span>
<span class="go">----&gt; 1 len(oneD1)</span>

<span class="go">TypeError: object of type &#39;OneDArray&#39; has no len()</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">len()</span></code> 함수가 사용되려면 <code class="docutils literal notranslate"><span class="pre">__len()__</span></code> 메서드가 적절하게 선언되어야 한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">OneDArray</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        items: 1차원 어레이 항목으로 사용될 값들. 리스트, 튜플 등 모음 자료형 사용.</span>
<span class="sd">        저장: 리스트 활용</span>
<span class="sd">        &quot;&quot;&quot;</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
        
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;myArray(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="si">}</span><span class="s2">)&quot;</span>
    
    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;항목별 덧셈 연산&quot;&quot;&quot;</span>

        <span class="c1"># 어레이 길이가 동일하지 않으면 오류 발생시킴</span>
        <span class="c1"># raise와 RuntimeError 활용</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">items</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;길이가 달라요!&quot;</span><span class="p">)</span>

        <span class="c1"># 항목별 덧셈 실행</span>
        <span class="n">main_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">main_object</span><span class="p">)):</span>
            <span class="n">main_object</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">other</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">OneDArray</span><span class="p">(</span><span class="n">main_object</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">)</span> <span class="c1"># self.items가 리스트이기 때문에 작동함</span>
    
<span class="n">oneD1</span> <span class="o">=</span> <span class="n">OneDArray</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="n">oneD2</span> <span class="o">=</span> <span class="n">OneDArray</span><span class="p">([</span><span class="mi">11</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">33</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">oneD1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3
</pre></div>
</div>
</div>
</div>
<p><strong>평균값과 표준편차</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">len()</span></code> 함수를 이용하여 넘파이 어레이 객체가 제공하는 다양한 메서드를 구현할 수 있다.
예를 들어 아래 코드는 항목들의 평균값과 표준편차를 계산하는 메서드를 제공한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">OneDArray</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        items: 1차원 어레이 항목으로 사용될 값들. </span>
<span class="sd">               정수 또는 부동소수점들의 리스트, 튜플 등 모음 자료형 사용.</span>
<span class="sd">        저장: 리스트 활용</span>
<span class="sd">        &quot;&quot;&quot;</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
        
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;myArray(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="si">}</span><span class="s2">)&quot;</span>
    
    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;항목별 덧셈 연산&quot;&quot;&quot;</span>

        <span class="c1"># 어레이 길이가 동일하지 않으면 오류 발생시킴</span>
        <span class="c1"># raise와 RuntimeError 활용</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">items</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;길이가 달라요!&quot;</span><span class="p">)</span>

        <span class="c1"># 항목별 덧셈 실행</span>
        <span class="n">main_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">main_object</span><span class="p">)):</span>
            <span class="n">main_object</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">other</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">OneDArray</span><span class="p">(</span><span class="n">main_object</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">)</span> <span class="c1"># self.items가 리스트이기 때문에 작동함</span>

    <span class="k">def</span> <span class="nf">mean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;항목들의 평균&quot;&quot;&quot;</span>
        <span class="nb">sum</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
            <span class="nb">sum</span> <span class="o">+=</span> <span class="n">item</span>
            
        <span class="k">return</span> <span class="nb">sum</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">std</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;항목들의 표준편차&quot;&quot;&quot;</span>
        <span class="nb">sum</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
            <span class="nb">sum</span> <span class="o">+=</span> <span class="p">(</span><span class="n">item</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span><span class="o">**</span><span class="mi">2</span>

        <span class="k">return</span> <span class="p">(</span><span class="nb">sum</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
    
<span class="n">oneD1</span> <span class="o">=</span> <span class="n">OneDArray</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="n">oneD2</span> <span class="o">=</span> <span class="n">OneDArray</span><span class="p">([</span><span class="mi">11</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">33</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>이제 평균값과 표준편차를 계산할 수 있다.</p>
<ul class="simple">
<li><p>평균값</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">oneD1</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">oneD2</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>22.0
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>표준편차</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">oneD1</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.816496580927726
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">oneD2</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>8.981462390204987
</pre></div>
</div>
</div>
</div>
</section>
<section id="for">
<h3><span class="section-number">4.4.2. </span><code class="docutils literal notranslate"><span class="pre">for</span></code> 반복문 지원<a class="headerlink" href="#for" title="Permalink to this headline">#</a></h3>
<p>아직은 포함된 항목들을 대상으로 반복문을 실행할 수 없다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">oneD1</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">TypeError                                 Traceback (most recent call last)</span>
<span class="go">Input In [39], in &lt;module&gt;</span>
<span class="go">----&gt; 1 for x in oneD1:</span>
<span class="go">      2     print(x)</span>

<span class="go">TypeError: &#39;OneDArray&#39; object is not iterable</span>
</pre></div>
</div>
<p>아래에서 처럼 <code class="docutils literal notranslate"><span class="pre">__iter__()</span></code>와 <code class="docutils literal notranslate"><span class="pre">__next__()</span></code> 메서드가 적절하게 선언되어야 한다.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">__iter__()</span></code> 메서드: 반복적으로 항목을 생성할 수 있는 객체인 <strong>이터레이터</strong>(iterator) 생성</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__next__()</span></code> 메서드: <strong>이터레이터에 기본으로 포함되는 메서드</strong>이며 지정된 순서에 따라 항목을 반환함.
함수 본체에서 사용되는 <code class="docutils literal notranslate"><span class="pre">count</span></code>, <code class="docutils literal notranslate"><span class="pre">max_repeats</span></code> 인스턴스 변수는 생성자에서 선언되도록 함.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">OneDArray</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        items: 1차원 어레이 항목으로 사용될 값들. 리스트, 튜플 등 모음 자료형 사용.</span>
<span class="sd">        저장: 리스트 활용</span>
<span class="sd">        &quot;&quot;&quot;</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>                  <span class="c1"># 항목 카운트</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_repeats</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>   <span class="c1"># 항목 카운트 최댓값</span>
        
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;myArray(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="si">}</span><span class="s2">)&quot;</span>
    
    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;항목별 덧셈 연산&quot;&quot;&quot;</span>

        <span class="c1"># 어레이 길이가 동일하지 않으면 오류 발생시킴</span>
        <span class="c1"># raise와 RuntimeError 활용</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">items</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;길이가 달라요!&quot;</span><span class="p">)</span>

        <span class="c1"># 항목별 덧셈 실행</span>
        <span class="n">main_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">main_object</span><span class="p">)):</span>
            <span class="n">main_object</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">other</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">OneDArray</span><span class="p">(</span><span class="n">main_object</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">mean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;항목들의 평균&quot;&quot;&quot;</span>
        <span class="nb">sum</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
            <span class="nb">sum</span> <span class="o">+=</span> <span class="n">item</span>
            
        <span class="k">return</span> <span class="nb">sum</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">std</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;항목들의 표준편차&quot;&quot;&quot;</span>
        <span class="nb">sum</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
            <span class="nb">sum</span> <span class="o">+=</span> <span class="p">(</span><span class="n">item</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span><span class="o">**</span><span class="mi">2</span>

        <span class="k">return</span> <span class="p">(</span><span class="nb">sum</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>
    
    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_repeats</span><span class="p">:</span>    <span class="c1"># 항목 개수만큼만 반복 허용</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span><span class="p">(</span><span class="s2">&quot;더 이상 항목이 없어요!&quot;</span><span class="p">)</span>
            
        <span class="n">next_item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>                       <span class="c1"># 항목 반환할 때마다 카운트 키우기</span>
        <span class="k">return</span> <span class="n">next_item</span>
    
<span class="n">oneD1</span> <span class="o">=</span> <span class="n">OneDArray</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="n">oneD2</span> <span class="o">=</span> <span class="n">OneDArray</span><span class="p">([</span><span class="mi">11</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">33</span><span class="p">])</span>        
</pre></div>
</div>
</div>
</div>
<p>이제 <code class="docutils literal notranslate"><span class="pre">for</span></code> 반복문이 지원된다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">oneD3</span> <span class="o">=</span> <span class="n">oneD1</span> <span class="o">+</span> <span class="n">oneD2</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">oneD3</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>13
25
37
</pre></div>
</div>
</div>
</div>
<p>그런데 <code class="docutils literal notranslate"><span class="pre">for</span></code> 반복문을 한 번만 사용할 수 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">oneD3</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>이유는 <code class="docutils literal notranslate"><span class="pre">count=3</span></code> 이 되어 <code class="docutils literal notranslate"><span class="pre">__next_()</span></code> 메서드가 <code class="docutils literal notranslate"><span class="pre">StopIteration</span></code> 오류를 발생시키가 때문이다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">oneD3</span><span class="o">.</span><span class="n">count</span>
<span class="go">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">oneD3</span><span class="o">.</span><span class="fm">__next__</span><span class="p">()</span>
<span class="go">StopIteration                             Traceback (most recent call last)</span>
<span class="go">Input In [45], in &lt;module&gt;</span>
<span class="go">----&gt; 1 oneD3.__next__()</span>

<span class="go">Input In [40], in OneDArray.__next__(self)</span>
<span class="go">     43 def __next__(self):</span>
<span class="go">     44     if self.count &gt;= self.max_repeats:    # 항목 개수만큼만 반복 허용</span>
<span class="go">---&gt; 45         raise StopIteration(&quot;더 이상 항목이 없어요!&quot;)</span>
<span class="go">     47     next_item = self.items[self.count]</span>
<span class="go">     48     self.count += 1                       # 항목 반환할 때마다 카운트 키우기</span>

<span class="go">StopIteration: 더 이상 항목이 없어요!</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">for</span></code> 문을 다시 사용하려면 객체를 새로 생성해야 한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">oneD3</span> <span class="o">=</span> <span class="n">oneD1</span> <span class="o">+</span> <span class="n">oneD2</span>

<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">oneD3</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>13
25
37
</pre></div>
</div>
</div>
</div>
</section>
<section id="id9">
<h3><span class="section-number">4.4.3. </span>인덱싱 지원<a class="headerlink" href="#id9" title="Permalink to this headline">#</a></h3>
<p>항목들의 순서를 고려해서 항목을 확인하고자 하면 오류가 발생한다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">oneD2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">TypeError                                 Traceback (most recent call last)</span>
<span class="go">Input In [46], in &lt;module&gt;</span>
<span class="go">----&gt; 1 oneD2[0]</span>

<span class="go">TypeError: &#39;OneDArray&#39; object is not subscriptable</span>
</pre></div>
</div>
<p>물론 수정도 불가능하다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">oneD2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span>
<span class="go">TypeError                                 Traceback (most recent call last)</span>
<span class="go">Input In [47], in &lt;module&gt;</span>
<span class="go">----&gt; 1 oneD2[0] = 100</span>

<span class="go">TypeError: &#39;OneDArray&#39; object does not support item assignment</span>
</pre></div>
</div>
<p>아래 두 메서드를 구현해야 한다.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">__getitem__()</span></code> 메서드: 대괄호 인덱싱 지원</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__setitem__()</span></code> 메서드: 특정 인덱스 항목 업데이트</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">OneDArray</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        items: 1차원 어레이 항목으로 사용될 값들. 리스트, 튜플 등 모음 자료형 사용.</span>
<span class="sd">        저장: 리스트 활용</span>
<span class="sd">        &quot;&quot;&quot;</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
        
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;myArray(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="si">}</span><span class="s2">)&quot;</span>
    
    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;항목별 덧셈 연산&quot;&quot;&quot;</span>

        <span class="c1"># 어레이 길이가 동일하지 않으면 오류 발생시킴</span>
        <span class="c1"># raise와 RuntimeError 활용</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">items</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;길이가 달라요!&quot;</span><span class="p">)</span>

        <span class="c1"># 항목별 덧셈 실행</span>
        <span class="n">main_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">main_object</span><span class="p">)):</span>
            <span class="n">main_object</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">other</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">OneDArray</span><span class="p">(</span><span class="n">main_object</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">mean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;항목들의 평균&quot;&quot;&quot;</span>
        <span class="nb">sum</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
            <span class="nb">sum</span> <span class="o">+=</span> <span class="n">item</span>
            
        <span class="k">return</span> <span class="nb">sum</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">std</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;항목들의 표준편차&quot;&quot;&quot;</span>
        <span class="nb">sum</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
            <span class="nb">sum</span> <span class="o">+=</span> <span class="p">(</span><span class="n">item</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span><span class="o">**</span><span class="mi">2</span>

        <span class="k">return</span> <span class="p">(</span><span class="nb">sum</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>
    
    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_repeats</span><span class="p">:</span>    <span class="c1"># 항목 개수만큼만 반복 허용</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span><span class="p">(</span><span class="s2">&quot;더 이상 항목이 없어요!&quot;</span><span class="p">)</span>
            
        <span class="n">next_item</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>                       <span class="c1"># 항목 반환할 때마다 카운트 키우기</span>
        <span class="k">return</span> <span class="n">next_item</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idx</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
    
    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idx</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">item</span>
        
<span class="n">oneD1</span> <span class="o">=</span> <span class="n">OneDArray</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="n">oneD2</span> <span class="o">=</span> <span class="n">OneDArray</span><span class="p">([</span><span class="mi">11</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">33</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>인덱싱이 작동한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">oneD2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>11
</pre></div>
</div>
</div>
</div>
<p>항목 업데이트도 된다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">oneD2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">100</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">oneD2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>myArray([100, 22, 33])
</pre></div>
</div>
</div>
</div>
<p><strong>슬라이싱</strong>(slicing)도 지원한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">oneD2</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[22, 33]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">oneD2</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[100, 22, 33]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">oneD2</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[100, 33]
</pre></div>
</div>
</div>
</div>
<p><strong>이터러블 자료형과 <code class="docutils literal notranslate"><span class="pre">__getitem__()</span></code> 메서드</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">__getitem_()</span></code> 메서드를 지원하는 클래스는 자동으로 이터레이터가 된다.
즉, <code class="docutils literal notranslate"><span class="pre">__iter__()</span></code> 메서드가 자동으로 지원된다.
아래에서 확인할 수 있듯이 <code class="docutils literal notranslate"><span class="pre">__iter__()</span></code> 와 <code class="docutils literal notranslate"><span class="pre">__next__()</span></code> 메서드가 없어도
<code class="docutils literal notranslate"><span class="pre">for</span></code> 반복문이 작동한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">OneDArray</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">items</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        items: 1차원 어레이 항목으로 사용될 값들. 리스트, 튜플 등 모음 자료형 사용.</span>
<span class="sd">        저장: 리스트 활용</span>
<span class="sd">        &quot;&quot;&quot;</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
        
    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;myArray(</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="si">}</span><span class="s2">)&quot;</span>
    
    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;항목별 덧셈 연산&quot;&quot;&quot;</span>

        <span class="c1"># 어레이 길이가 동일하지 않으면 오류 발생시킴</span>
        <span class="c1"># raise와 RuntimeError 활용</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">items</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span><span class="s2">&quot;길이가 달라요!&quot;</span><span class="p">)</span>

        <span class="c1"># 항목별 덧셈 실행</span>
        <span class="n">main_object</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">main_object</span><span class="p">)):</span>
            <span class="n">main_object</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">other</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">OneDArray</span><span class="p">(</span><span class="n">main_object</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="fm">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">mean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;항목들의 평균&quot;&quot;&quot;</span>
        <span class="nb">sum</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">:</span>
            <span class="nb">sum</span> <span class="o">+=</span> <span class="n">item</span>
            
        <span class="k">return</span> <span class="nb">sum</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
    
<span class="c1">#     def __iter__(self):</span>
<span class="c1">#         return self</span>
    
<span class="c1">#     def __next__(self):</span>
<span class="c1">#         if self.count &gt;= self.max_repeats:    # 항목 개수만큼만 반복 허용</span>
<span class="c1">#             raise StopIteration(&quot;더 이상 항목이 없어요!&quot;)</span>
            
<span class="c1">#         next_item = self.items[self.count]</span>
<span class="c1">#         self.count += 1                       # 항목 반환할 때마다 카운트 키우기</span>
<span class="c1">#         return next_item</span>

    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idx</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span>
    
    <span class="k">def</span> <span class="fm">__setitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">idx</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">items</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span> <span class="o">=</span> <span class="n">item</span>
        
<span class="n">oneD1</span> <span class="o">=</span> <span class="n">OneDArray</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="n">oneD2</span> <span class="o">=</span> <span class="n">OneDArray</span><span class="p">([</span><span class="mi">11</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">33</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">oneD3</span> <span class="o">=</span> <span class="n">oneD1</span> <span class="o">+</span> <span class="n">oneD2</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">oneD3</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>13
25
37
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">__iter__()</span></code> 와 <code class="docutils literal notranslate"><span class="pre">__next__()</span></code>를 사용하는 경우와는 다르게
객체를 새로 생성할 필요없이 반복문을 계속해서 활용할 수도 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">oneD3</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>13
25
37
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="id10">
<h2><span class="section-number">4.5. </span>이터레이터와 제너레이터<a class="headerlink" href="#id10" title="Permalink to this headline">#</a></h2>
<p><strong>참고</strong>: 아래 내용은 Vicent Driessen의
<a class="reference external" href="https://nvie.com/posts/iterators-vs-generators/">Iterables vs. Iterators vs. Generators</a>
내용을 참고합니다.</p>
<section id="id11">
<h3><span class="section-number">4.5.1. </span>이터러블 자료형과 이터레이터<a class="headerlink" href="#id11" title="Permalink to this headline">#</a></h3>
<p><strong>이터러블</strong>(iterable) 자료형은 <code class="docutils literal notranslate"><span class="pre">__iter__()</span></code> 메서드를 지원하는 자료형이다.
<code class="docutils literal notranslate"><span class="pre">__iter__()</span></code> 메서드는 항목들을 지정된 순서대로 반환할 수 있는 능력을 갖춘
<code class="docutils literal notranslate"><span class="pre">__next__()</span></code> 메서드를 포함한 <strong>이터레이터</strong>(iterator) 객체를 생성해야 한다(아래 그림 참고).</p>
<ul class="simple">
<li><p>이터러블 객체가 <code class="docutils literal notranslate"><span class="pre">for</span></code> 반복문에 사용되면 <code class="docutils literal notranslate"><span class="pre">__iter__()</span></code> 메서드에 의해
<code class="docutils literal notranslate"><span class="pre">__next__()</span></code> 메서드를 포함한 객체가 생성되거나 있는 기존의 <code class="docutils literal notranslate"><span class="pre">__next__()</span></code> 메서드가
활용된다.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__next__()</span></code> 메서드는 이터러블 객체에 포함된 항목을 하나씩 반환하는 작업을 수행한다.</p></li>
</ul>
<div align="center"><img src="https://nvie.com/img/iterable-vs-iterator.png" style="width:600px;"></div>
<p>그림 출처: <a class="reference external" href="https://nvie.com/posts/iterators-vs-generators/">Iterables vs. Iterators vs. Generators</a></p>
</section>
<section id="id12">
<h3><span class="section-number">4.5.2. </span>제너레이터<a class="headerlink" href="#id12" title="Permalink to this headline">#</a></h3>
<p><strong>제너레이터</strong>(generator)는 특별한 이터레이터이며,
다음 두 가지 방식으로 생성된다.</p>
<ul class="simple">
<li><p>제너레이터 표현식 활용</p></li>
<li><p>제너레이터 함수 활용</p></li>
</ul>
<p>이터러블, 이터레이터, 제너레이터 사이의 관계는 다음과 같다.</p>
<div align="center"><img src="https://raw.githubusercontent.com/codingalzi/algopy/master/jupyter-book/imgs/ch04-iterables-relationships.png" style="width:700px;"></div>
<p>그림 출처: <a class="reference external" href="https://nvie.com/posts/iterators-vs-generators/">Iterables vs. Iterators vs. Generators</a></p>
<p><strong>제너레이터 표현식</strong></p>
<p>0부터 19까지의 정수의 제곱으로 구성된 리스트를
조건제시법을 이용하여 아래와 같이 생성할 수 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">squares</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">)]</span>

<span class="n">squares</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0,
 1,
 4,
 9,
 16,
 25,
 36,
 49,
 64,
 81,
 100,
 121,
 144,
 169,
 196,
 225,
 256,
 289,
 324,
 361]
</pre></div>
</div>
</div>
</div>
<p>리스트에 사용되는 대괄호(<code class="docutils literal notranslate"><span class="pre">[]</span></code>) 대신에 튜플에 사용되는 소괄호(<code class="docutils literal notranslate"><span class="pre">()</span></code>)를 사용하면 다르게 작동한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lazy_squares</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>

<span class="n">lazy_squares</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;generator object &lt;genexpr&gt; at 0x7f6db45d29e0&gt;
</pre></div>
</div>
</div>
</div>
<p>이유는 리스트 조건제시법은 이터레이터인 리스트를 생성하는 반면에
소괄호를 사용하면 제너레이터를 생성한다.</p>
<p>제너레이터는 리스트와는 달리 항목을 모두 미리 생성하지는 않고 필요할 때
하나씩 <code class="docutils literal notranslate"><span class="pre">__next__()</span></code> 메서드를 활용하여 생성하기에 항목을 미리 보여줄 수 없다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">next</span><span class="p">(</span><span class="n">lazy_squares</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">next</span><span class="p">(</span><span class="n">lazy_squares</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">next</span><span class="p">(</span><span class="n">lazy_squares</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">next</span><span class="p">(</span><span class="n">lazy_squares</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>9
</pre></div>
</div>
</div>
</div>
<p>이제 리스트로 변환하면 앞서 사용된 값들은 포함되지 않는다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="n">lazy_squares</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[16, 25, 36, 49, 64, 81, 100, 121, 144, 169, 196, 225, 256, 289, 324, 361]
</pre></div>
</div>
</div>
</div>
<p><strong>참고</strong>: <code class="docutils literal notranslate"><span class="pre">range</span></code> 객체는 이터러블이지만 이터레이터는 아니다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="ne">TypeError</span>                                 <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>
<span class="n">c</span><span class="p">:</span>\<span class="n">Users</span>\<span class="n">gslee</span>\<span class="n">Documents</span>\<span class="n">GitHub</span>\<span class="n">algopy</span>\<span class="n">jupyter</span><span class="o">-</span><span class="n">book</span>\<span class="n">python_basic_4</span><span class="o">.</span><span class="n">ipynb</span> <span class="n">셀</span> <span class="mi">171</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">cell</span> <span class="n">line</span><span class="p">:</span> <span class="mi">1</span><span class="o">&gt;</span><span class="p">()</span>
<span class="o">----&gt;</span> <span class="mi">1</span> <span class="nb">next</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">))</span>

<span class="ne">TypeError</span><span class="p">:</span> <span class="s1">&#39;range&#39;</span> <span class="nb">object</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">an</span> <span class="n">iterator</span>
</pre></div>
</div>
<p>실제로 <code class="docutils literal notranslate"><span class="pre">__next__()</span></code> 메서드를 포함하지 않는다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">hasattr</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span> <span class="s1">&#39;__iter__&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">hasattr</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">),</span> <span class="s1">&#39;__next__&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>False
</pre></div>
</div>
</div>
</div>
<p><strong>제너레이터 함수</strong></p>
<p>제너레이터 함수는 제너레이터를 생성하는 함수를 가리킨다.
여기서는 두 예제를 이용하여 제너레이터 함수의 활용법을 소개한다.</p>
<p><strong>예제:</strong> <code class="docutils literal notranslate"><span class="pre">enumerator()</span></code> 함수 구현</p>
<p>이뉴머레이터 함수 <code class="docutils literal notranslate"><span class="pre">enumerator()</span></code>는 순차 모음 자료형(sequential)의
항목과 해당 항목의 인덱스로
이루어진 <code class="docutils literal notranslate"><span class="pre">enumerate</span></code>라는 이터레이터를 생성한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">abcde_enum</span> <span class="o">=</span> <span class="nb">enumerate</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">abcde_enum</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>enumerate
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">__iter__()</span></code>와 <code class="docutils literal notranslate"><span class="pre">__next__()</span></code> 모두 포함된다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">hasattr</span><span class="p">(</span><span class="n">abcde_enum</span><span class="p">,</span> <span class="s1">&#39;__iter__&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">hasattr</span><span class="p">(</span><span class="n">abcde_enum</span><span class="p">,</span> <span class="s1">&#39;__next__&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>하지만 항목들을 바로 확인할 수는 없다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">abcde_enum</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;enumerate object at 0x7f6db461b980&gt;
</pre></div>
</div>
</div>
</div>
<p>반면에 <code class="docutils literal notranslate"><span class="pre">for</span></code> 문을 이용하여 항목을 확인할 수 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">abcde_enum</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;인덱스: </span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">, 항목: </span><span class="si">{</span><span class="n">letter</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>인덱스: 0, 항목: a
인덱스: 1, 항목: b
인덱스: 2, 항목: c
인덱스: 3, 항목: d
인덱스: 4, 항목: e
</pre></div>
</div>
</div>
</div>
<p>여기서 직접 <code class="docutils literal notranslate"><span class="pre">enumerate</span></code> 자료형과 동일하게 작동하는
이터레이터 클래스 <code class="docutils literal notranslate"><span class="pre">MyEnum</span></code>를 구현하면 다음과 같다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyEnum</span><span class="p">():</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sequential</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sequential</span> <span class="o">=</span> <span class="n">sequential</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sequential</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span>
        <span class="n">index_item</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sequential</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">index_item</span>
</pre></div>
</div>
</div>
</div>
<p>이제 <code class="docutils literal notranslate"><span class="pre">enumerate()</span></code> 함수와 동일하게 작동하는 함수 <code class="docutils literal notranslate"><span class="pre">myEnumerate()</span></code> 함수를
다음과 같이 정의할 수 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">myEnumerate</span><span class="p">(</span><span class="n">sequential</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">MyEnum</span><span class="p">(</span><span class="n">sequential</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">abcde_enum</span> <span class="o">=</span> <span class="n">myEnumerate</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">abcde_enum</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;인덱스: </span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">, 항목: </span><span class="si">{</span><span class="n">letter</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>인덱스: 0, 항목: a
인덱스: 1, 항목: b
인덱스: 2, 항목: c
인덱스: 3, 항목: d
인덱스: 4, 항목: e
</pre></div>
</div>
</div>
</div>
<p><strong>예제:</strong> <code class="docutils literal notranslate"><span class="pre">enumerator()</span></code> 함수 구현 (다른 방식)</p>
<p><code class="docutils literal notranslate"><span class="pre">__iter__()</span></code>와 <code class="docutils literal notranslate"><span class="pre">__next__()</span></code> 를 서로 다른 클래스에서 정의할 수도 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyEnum</span><span class="p">():</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sequential</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sequential</span> <span class="o">=</span> <span class="n">sequential</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">MyEnumIterator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sequential</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">MyEnumIterator</span><span class="p">():</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sequential</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sequential</span> <span class="o">=</span> <span class="n">sequential</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sequential</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">StopIteration</span>
        <span class="n">index_item</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">sequential</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">index</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">index_item</span>
</pre></div>
</div>
</div>
</div>
<p>이제 <code class="docutils literal notranslate"><span class="pre">enumerate()</span></code> 함수와 동일하게 작동하는 함수 <code class="docutils literal notranslate"><span class="pre">myEnumerate()</span></code> 함수를
다음과 같이 정의할 수 있다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">myEnumerate</span><span class="p">(</span><span class="n">sequential</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">MyEnum</span><span class="p">(</span><span class="n">sequential</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">abcde_enum</span> <span class="o">=</span> <span class="n">myEnumerate</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">])</span>

<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">letter</span> <span class="ow">in</span> <span class="n">abcde_enum</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;인덱스: </span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">, 항목: </span><span class="si">{</span><span class="n">letter</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>인덱스: 0, 항목: a
인덱스: 1, 항목: b
인덱스: 2, 항목: c
인덱스: 3, 항목: d
인덱스: 4, 항목: e
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">abcde_enum</span> <span class="o">=</span> <span class="n">myEnumerate</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p><strong>참고:</strong> 특별한 경우가 아니라면 <code class="docutils literal notranslate"><span class="pre">__iter__()</span></code>와 <code class="docutils literal notranslate"><span class="pre">__next__()</span></code> 를
별도의 클래스에서 구현하는 것 보다는 동일한 클래스에서 함께 정의하는 게
보다 편리하다.</p>
<p><strong>예제:</strong> 자연수 집합 구현</p>
<p>제너레이터 함수를 이용하여 무한 리스트를 어느 정도 다를 수 있다.
아래 코드는 자연수를 무한정 생성하는 제너레이터를 정의한다.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">yield</span></code>: <code class="docutils literal notranslate"><span class="pre">return</span></code> 키워드와 유사한 역할 수행.
<code class="docutils literal notranslate"><span class="pre">__next__()</span></code> 메서드 반환해야 하는 값을 생성.</p></li>
<li><p>하지만 미리 모든 값을 생성하는 것이 아니고 요청이 있을 때만 작동함.</p></li>
<li><p>무한히 많은 수열을 사용하는 피보나찌 수열처럼 무한 리스트 등을
프로그래밍으로 정의할 때 사용됨.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">nat</span><span class="p">():</span>
    <span class="n">n</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">yield</span> <span class="n">n</span>
        <span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
</div>
<p>제너레이터 함수를 실행하면 제너레이터가 하나 생성된다.
제너레이터의 항목을 구하려면 <code class="docutils literal notranslate"><span class="pre">next()</span></code> 함수를 이용한다.
내부적으로는 <code class="docutils literal notranslate"><span class="pre">__next__()</span></code> 메서드가 사용된다.</p>
<p>제너레이터 객체 생성은 함수 호출 방식과 동일하다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">nat</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>아래 코드는 <code class="docutils literal notranslate"><span class="pre">next()</span></code> 함수를 이용하여 자연수 10개를 생성한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
2
3
4
5
6
7
8
9
10
</pre></div>
</div>
</div>
</div>
<p>동일한 코드를 실행하더라도 이어지는 항목,
즉 11에서 20까지의 자연수를 생성한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>11
12
13
14
15
16
17
18
19
20
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">nat()</span></code> 제너레이터를 이터레이터 클래스로 선언하면 다음과 같다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">nat_class</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="fm">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">value</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="o">=</span> <span class="n">nat_class</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="n">g</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
1
2
3
4
5
6
7
8
9
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="id13">
<h2><span class="section-number">4.6. </span>연습문제<a class="headerlink" href="#id13" title="Permalink to this headline">#</a></h2>
<ol class="simple">
<li><p><a class="reference external" href="https://colab.research.google.com/github/codingalzi/algopy/blob/master/excs/exc-python_basic_4.ipynb">(실습) 파이썬 기초 4부: 클래스 기본 요소</a></p></li>
</ol>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="python_basic_3.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">3. </span>클래스와 상속</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="time_complexity.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">5. </span>시간 복잡도</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By 코딩알지<br/>
  
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>