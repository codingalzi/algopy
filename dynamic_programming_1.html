

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>17. 최적화 문제와 동적계획법 &#8212; 문제해결 알고리즘</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=ac02cc09edc035673794" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/proof.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=ac02cc09edc035673794" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794" />
  <script src="_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=ac02cc09edc035673794"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'dynamic_programming_1';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="18. 플로이드-워셜 알고리즘" href="dynamic_programming_2.html" />
    <link rel="prev" title="16. 맵(Map)" href="trees_heaps_maps_3.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    <p class="title logo__title">문제해결 알고리즘</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">파이썬 클래스와 추상 자료형</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="oop-classes-objects.html">1. 클래스, 인스턴스, 객체</a></li>
<li class="toctree-l1"><a class="reference internal" href="oop-inheritance.html">2. 상속</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">선형 자료 구조</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="queues.html">3. 큐(Queue)</a></li>
<li class="toctree-l1"><a class="reference internal" href="stacks.html">4. 스택(Stack)</a></li>
<li class="toctree-l1"><a class="reference internal" href="deques.html">5. 덱(Deque)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">알고리즘 시간 복잡도</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="time_complexity.html">6. 시간 복잡도</a></li>
<li class="toctree-l1"><a class="reference internal" href="orders.html">7. 차수</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_list_dict.html">8. 파이썬 모음 자료형 분석</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">재귀</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="recursive_functions_1.html">9. 재귀 함수</a></li>
<li class="toctree-l1"><a class="reference internal" href="recursive_functions_2.html">10. 재귀 시각화</a></li>
<li class="toctree-l1"><a class="reference internal" href="hanoi_tower.html">11. 하노이의 탑과 미로게임</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">탐색과 정렬</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="sort_search_1.html">12. 탐색과 분할 정복</a></li>
<li class="toctree-l1"><a class="reference internal" href="sort_search_2.html">13. 버블/선택/합병/퀵 정렬</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">트리, 힙, 맵</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="trees_heaps_maps_1.html">14. 트리(Tree)</a></li>
<li class="toctree-l1"><a class="reference internal" href="trees_heaps_maps_2.html">15. 힙(Heap)</a></li>
<li class="toctree-l1"><a class="reference internal" href="trees_heaps_maps_3.html">16. 맵(Map)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">동적계획법</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active"><a class="current reference internal" href="#">17. 최적화 문제와 동적계획법</a></li>
<li class="toctree-l1"><a class="reference internal" href="dynamic_programming_2.html">18. 플로이드-워셜 알고리즘</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">탐욕 기법</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="greedy_algorithm_1.html">19. 최소비용 신장트리</a></li>
<li class="toctree-l1"><a class="reference internal" href="greedy_algorithm_2.html">20. 다익스트라 알고리즘</a></li>
<li class="toctree-l1"><a class="reference internal" href="greedy_algorithm_3.html">21. 탐욕 기법 대 동적계획법</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">되추적 기법과 제네릭 프로그래밍</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="backtracking.html">22. 되추적 기법</a></li>
<li class="toctree-l1"><a class="reference internal" href="generic_programming.html">23. 제네릭 프로그래밍</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">NP 이론</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="p_np.html">24. P-NP 문제</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://colab.research.google.com/github/codingalzi/algopy/blob/master/jupyter-book/dynamic_programming_1.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onColab"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="_static/images/logo_colab.png">
  </span>
<span class="btn__text-container">Colab</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/codingalzi/algopy" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/codingalzi/algopy/issues/new?title=Issue%20on%20page%20%2Fdynamic_programming_1.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/dynamic_programming_1.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>최적화 문제와 동적계획법</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">17.1. 최적화 문제</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">17.2. 잔돈 지불 문제</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">17.3. 이항 계수</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">17.4. 연습 문제</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="sec-dynamic-programming-1">
<span id="id1"></span><h1><span class="section-number">17. </span>최적화 문제와 동적계획법<a class="headerlink" href="#sec-dynamic-programming-1" title="Permalink to this heading">#</a></h1>
<p><strong>슬라이드</strong></p>
<p>본문 내용을 요약한 <a class="reference external" href="https://github.com/codingalzi/algopy/raw/master/slides/slides-dynamic_programming_1.pdf">슬라이드</a>를 다운로드할 수 있다.</p>
<p><strong>주요 내용</strong></p>
<ul class="simple">
<li><p>최적화 문제</p></li>
<li><p>메모이제이션</p></li>
<li><p>동적계획법</p></li>
<li><p>잔돈 지불 문제</p></li>
<li><p>이항 계수</p></li>
</ul>
<section id="id2">
<h2><span class="section-number">17.1. </span>최적화 문제<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h2>
<p><strong>최적화 문제</strong><font size='2'>optimization problem</font>는
여러 개의 해답 중에서 주어진 조건을 만족하는 최적의 해답을 찾는 문제이다.
최적의 기준은 문제에 따라 다르며 보통 특정 기준에 맞는 최댓값 또는 최솟값을 사용한다.</p>
<p><strong>예제: 두 지점 사이의 최단 경로 찾기</strong></p>
<p>아래 그림의 v1 에서 다른 지점으로 이동하는 가장 짧은 경로를 찾아야 한다.
숫자는 두 지점 사이의 경로의 길이를 나타낸다.</p>
<figure>
<div align="center"><img src="https://raw.githubusercontent.com/codingalzi/algopy/master/jupyter-book/imgs/opt_problem01.png" width="30%"></div>
</figure><p>최적화 문제를 해결하는 다양한 기법이 존재한다.
여기서는 잔돈 지불 문제를 이용하여 다양한 해결책의 장단점을 살펴본다.</p>
</section>
<section id="id3">
<h2><span class="section-number">17.2. </span>잔돈 지불 문제<a class="headerlink" href="#id3" title="Permalink to this heading">#</a></h2>
<p>1원, 5원, 10원, 25원짜리 동전만을 이용하여 잔돈을 지불하고자 한다.
이때 63원을 지불하기 위해 필요한 최소한의 동전 개수는 얼마인가?</p>
<p><strong>기법 1: 탐욕 기법</strong></p>
<p><strong>탐욕 기법</strong><font size='2'>greedy method</font>은 정해진 기준에 따라 <strong>매 선택 순간에 가장 좋은 것</strong>을 선택하는 기법이다.
잔돈 지불 문제의 경우 가능한 가장 큰 단위의 동전을 먼저 사용하는 것을 의미한다.
따라서 63원을 잔돈으로 지불하려면 6개의 동전이 필요하다.</p>
<ul class="simple">
<li><p>25원 동전: 2개</p></li>
<li><p>10원 동전: 1개</p></li>
<li><p>1원 동전: 3개</p></li>
</ul>
<p>그런데 탐욕 알고리즘이 항상 최선의 해답을 제공하지는 않는다.
예를 들어 5원짜리 동전이 업는 상황에서 잔돈 30원을 지불하려면 10원 동전 3개면 된다.
그런데 탐욕 기법을 따르면 25원 동전 1나와 1원 동전 5개, 총 6개의 동전이 필요하다.</p>
<p><strong>기법 2: 완전 탐색</strong></p>
<p>지정된 액수의 잔돈을 지불할 수 있는 최소한의 동전 개수를
아래와 같이 재귀로 계산할 수 있다.
즉, 지불액 지불에 필요한 최소한의 동전 개수는 지불액에서 1원, 5원, 10원, 25원을
뺀 각각의 값을 지불하는 데에 필요한 최소한의 동전 개수로 계산한다.</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\text{동전개수} =
min
\begin{cases}
1 + \text{동전개수}(\text{지불액} - 1)\quad\quad \text{(1원 동전을 최소 하나 사용한 경우)} \\
1 + \text{동전개수}(\text{지불액} - 5)\quad\quad \text{(5원 동전을 최소 하나 사용한 경우)} \\
1 + \text{동전개수}(\text{지불액} - 10)\quad\quad \text{(10원 동전을 최소 하나 사용한 경우)} \\
1 + \text{동전개수}(\text{지불액} - 25)\quad\quad \text{(25원 동전을 최소 하나 사용한 경우)}
\end{cases}
\end{split}\]</div>
<p>이처럼 가능한 모든 경우를 고려하는 기법을 <strong>완전 탐색</strong>이라 하며
영어로 <strong>부르트 포스</strong><font size='2'>brute force</font> 기법이라 한다.
<code class="docutils literal notranslate"><span class="pre">make_change_1()</span></code> 함수는 앞서 설명한 재귀 알고리즘을 구현한다.
함수 선언에 사용된 변수들의 역할은 다음과 같다.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">coin_value_list</span></code>: 사용 가능한 동전들의 리스트</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">change</span></code>: 잔돈 지불액</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">min_coins</span></code>: 잔돈 지불에 필요한 최소 동전 개수</p></li>
</ul>
<p>참고로 아래 함수에서 사용하는 재귀 알고리즘은 가능한한 1원 동전을,
그 다음에 5원 동전을,
그 다음에 10원 동전을,
그 다음에 25원 동전을 사용하도록 작동한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">make_change_1</span><span class="p">(</span><span class="n">coin_value_list</span><span class="p">,</span> <span class="n">change</span><span class="p">):</span>
    <span class="n">min_coins</span> <span class="o">=</span> <span class="n">change</span>                          <span class="c1"># 최소 동전 개수 초기화</span>

    <span class="k">if</span> <span class="n">change</span> <span class="ow">in</span> <span class="n">coin_value_list</span><span class="p">:</span>               <span class="c1"># 종료 조건</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># 하나의 동전을 사용한 각각의 경우: 재귀 적용</span>
        <span class="n">available_coins</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">coin_value_list</span> <span class="k">if</span> <span class="n">c</span> <span class="o">&lt;=</span> <span class="n">change</span><span class="p">]</span> <span class="c1"># 사용 가능한 동전 목록</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">available_coins</span><span class="p">:</span>  
            <span class="n">num_coins</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">make_change_1</span><span class="p">(</span><span class="n">coin_value_list</span><span class="p">,</span> <span class="n">change</span> <span class="o">-</span> <span class="n">i</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="n">num_coins</span> <span class="o">&lt;</span> <span class="n">min_coins</span><span class="p">:</span>            <span class="c1"># 최소 동전 수 업데이트</span>
                <span class="n">min_coins</span> <span class="o">=</span> <span class="n">num_coins</span>
    
    <span class="k">return</span> <span class="n">min_coins</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">make_change_1</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">25</span><span class="p">],</span> <span class="mi">63</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6
</pre></div>
</div>
</div>
</div>
<p><strong>재귀 알고리즘의 기본 문제</strong></p>
<p>재귀 알고리즘의 실행에 많은 시간이 걸린다.
이유는 <code class="docutils literal notranslate"><span class="pre">make_change_1()</span></code> 함수가 63원의 잔돈 지불에
필요한 최소 동전 수를 계산하기 위해 무려 67,716,925 번 호출되기 대문이다.</p>
<p>아래 그림은 잔돈 26원을 지불하기에 필요한 최소한의 동전 수를 계산하는
과정의 일부를 보여준다.
그림에서 보면 예를 들어 <code class="docutils literal notranslate"><span class="pre">make_change_1(15)</span></code>가 최소 3번 이상 호출됨을 알 수 있다.
실제로 <code class="docutils literal notranslate"><span class="pre">make_change_1(26)</span></code>을 실행하면 중간에
<code class="docutils literal notranslate"><span class="pre">make_change_1(15)</span></code>가 52번 호출된다.
즉, 동일한 인자를 사용하는 함수 호출이 반복적으로 너무 많이 발생한다.</p>
<p>재귀 알고리즘의 실행에 많은 시간이 걸린다.
이유는 <code class="docutils literal notranslate"><span class="pre">make_change_1()</span></code> 함수가 63원의 잔돈 지불에
필요한 최소 동전 수를 계산하기 위해 무려 67,716,925 번 호출되기 대문이다.
예를 들어 아래 그래프는 잔돈 14원을 지불하기에 필요한 최소한의 동전 수를 계산하는
과정을 보여준다.
삼각형으로 표시된 부분이 동일한 인자에 대해 함수의 재귀호출이 반복되는 것을 가리킨다.</p>
<figure>
<div align="center"><img src="https://raw.githubusercontent.com/codingalzi/algopy/master/jupyter-book/imgs/change_14.png" width="70%"></div>
</figure><p><strong>기법 3: 메모이제이션</strong></p>
<p>언급된 동일 인자에 대한 반복 호출 문제는 <strong>메모이제이션</strong><font size='2'>memoization</font> 기법으로
간단하게 해결된다.
메모이제이션은 작은 입력크기에 대한 반환값을 기억해두고 필요한 경우 재활용하는 기법이다.
이전 그래프에서 삼각형으로 표신된 부분에 대해 함수 호출 대신 기억된 값을 확이하면
함수 재귀호출 횟수가 획기적으로 줄어든다.</p>
<p>한 번 호출되어 반환된 값을 기억하기 위해
여기서는 <strong>디폴트 딕트</strong>(<code class="docutils literal notranslate"><span class="pre">defaultdict</span></code>) 객체를 활용한다.
<code class="docutils literal notranslate"><span class="pre">defaultdict</span></code> 객체는 사전과 거의 동일한 모음 자료형이다.
사전 객체와는 달리 키가 가리키는 값을 확인하거나 업데이트할 때 키의 포함 여부를 미리 확인할 필요가 없다.</p>
<p>사전 자료형의 경우 지정된 키가 없으면 오류가 발생한다.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">aDict</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">aDict</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>

<span class="go">---------------------------------------------------------------------------</span>
<span class="go">KeyError                                  Traceback (most recent call last)</span>
<span class="go">&lt;ipython-input-24-f93551ca9406&gt; in &lt;module&gt;</span>
<span class="go">      1 aDict = {}</span>
<span class="go">----&gt; 2 aDict[10]</span>

<span class="go">KeyError: 10</span>
</pre></div>
</div>
<p>반면에 <code class="docutils literal notranslate"><span class="pre">defaultdict</span></code> 객체를 생성할 때 값들의 자료형을 명시해야 한다.
예를 들어 자료형을 <code class="docutils literal notranslate"><span class="pre">int</span></code>로 지정하면 모든 키에 대한 값이 0으로 초기화된다고 가정한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="n">aDict</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">aDict</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0
</pre></div>
</div>
</div>
</div>
<p>아래 <code class="docutils literal notranslate"><span class="pre">make_change_2()</span></code> 함수는 재귀 호출이 발생할 때마다 그 결과를 디폴트 딕트에 기억해두고,
필요한 경우 재활용한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">make_change_2</span><span class="p">(</span><span class="n">coin_value_list</span><span class="p">,</span> <span class="n">change</span><span class="p">,</span> <span class="n">known_results</span><span class="o">=</span><span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)):</span>    
    <span class="n">min_coins</span> <span class="o">=</span> <span class="n">change</span> <span class="c1"># 가장 큰 값으로 시작</span>
    
    <span class="k">if</span> <span class="n">change</span> <span class="ow">in</span> <span class="n">coin_value_list</span><span class="p">:</span>
        <span class="n">known_results</span><span class="p">[</span><span class="n">change</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="mi">1</span>
    
    <span class="c1"># 기존에 호출되었다면 저장된 값 재활용</span>
    <span class="c1"># 키의 값이 0보다 크면, 이미 계산된 경우를 가리킴</span>
    <span class="k">elif</span> <span class="n">known_results</span><span class="p">[</span><span class="n">change</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">known_results</span><span class="p">[</span><span class="n">change</span><span class="p">]</span>
    
    <span class="k">else</span><span class="p">:</span>
        <span class="n">available_coins</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">coin_value_list</span> <span class="k">if</span> <span class="n">c</span> <span class="o">&lt;=</span> <span class="n">change</span><span class="p">]</span> <span class="c1"># 사용 가능한 동전 목록</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">available_coins</span><span class="p">:</span>
            <span class="n">num_coins</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">make_change_2</span><span class="p">(</span><span class="n">coin_value_list</span><span class="p">,</span> <span class="n">change</span> <span class="o">-</span> <span class="n">i</span><span class="p">,</span> <span class="n">known_results</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">num_coins</span> <span class="o">&lt;</span> <span class="n">min_coins</span><span class="p">:</span>
                <span class="n">min_coins</span> <span class="o">=</span> <span class="n">num_coins</span>
            <span class="n">known_results</span><span class="p">[</span><span class="n">change</span><span class="p">]</span> <span class="o">=</span> <span class="n">min_coins</span>
    <span class="k">return</span> <span class="n">min_coins</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">make_change_1()</span></code> 함수의 경우보다 훨씬 빠르게 계산한다.
실제로 <code class="docutils literal notranslate"><span class="pre">make_change_2([1,</span> <span class="pre">5,</span> <span class="pre">10,</span> <span class="pre">25],</span> <span class="pre">63)</span></code> 를 실행할 때 재귀 호출 횟수는 206회에 불과하다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">make_change_2</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">25</span><span class="p">],</span> <span class="mi">63</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6
</pre></div>
</div>
</div>
</div>
<p><strong>기법 4: 동적계획법</strong></p>
<p>동적계획법<font size='2'>dynamic programming</font>은
<strong>재귀를 사용하지 않는 대신</strong>
재귀 알고리즘의 종료조건에서 출발하여
차례대로 필요한 인자에 해당하는 값까지 쌓아가는 기법이다.
예를 들어 잔돈 63원을 지불해야 하는 경우 1원부터 출발해서
63원까지 각각의 경우에 필요한 최소 동전 수를 계산한다.
앞서 살펴 본 메모이제이션 기법을 거꾸로 적용하는 것과 유사하지만
1원, 2원, 3원 등부터 63원까지 <strong>모든 경우</strong>에 대해 차례대로 필요한 최소 동전 수를
저장해 두고 재활용한다.</p>
<p>아래 그림은 1원부터 11원까지 잔돈 지불에 필요한 최소 동전 수를 저장하는 과정을 보여준다.
예를 들어, 11원을 지불하고자 하는 경우 미리 계산되어 저장된 아래 세 경우를 확인한 다음에 최솟값을 선택한다.</p>
<ul class="simple">
<li><p>1원 동전을 사용하는 경우: 나머지 10원을 지불할 때 필요한 최소 동전 수에 1을 더한 값</p></li>
<li><p>5원 동전을 사용하는 경우: 나머지 6원을 지불할 때 필요한 최소 동전 수에 1을 더한 값</p></li>
<li><p>10원 동전을 사용하는 경우: 나머지 1원을 지불할 때 필요한 최소 동전 수에 1을 더한 값</p></li>
</ul>
<figure>
<div align="center"><img src="https://raw.githubusercontent.com/codingalzi/algopy/master/notebooks/_images/changeTable.png" width="60%"></div>
</figure><p>동적계획법을 이용하여 잔돈 지불 문제를 해결하는 알고리즘은 다음과 같다.
계산이 매우 빨라졌으며, 재귀 호출도 전혀 없다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="k">def</span> <span class="nf">make_change_3</span><span class="p">(</span><span class="n">coin_value_list</span><span class="p">,</span> <span class="n">change</span><span class="p">):</span>
    <span class="n">min_coins</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    
    <span class="c1"># 1원부터 차례대로 최소 동전 수 계산</span>
    <span class="k">for</span> <span class="n">changeToMake</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">change</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">coin_count</span> <span class="o">=</span> <span class="n">changeToMake</span> <span class="c1"># 가장 큰 값으로 시작</span>

        <span class="n">available_coins</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">coin_value_list</span> <span class="k">if</span> <span class="n">c</span> <span class="o">&lt;=</span> <span class="n">changeToMake</span><span class="p">]</span> <span class="c1"># 사용 가능한 동전 목록</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">available_coins</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">min_coins</span><span class="p">[</span><span class="n">changeToMake</span> <span class="o">-</span> <span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">coin_count</span><span class="p">:</span>
                <span class="n">coin_count</span> <span class="o">=</span> <span class="n">min_coins</span><span class="p">[</span><span class="n">changeToMake</span> <span class="o">-</span> <span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
        
        <span class="n">min_coins</span><span class="p">[</span><span class="n">changeToMake</span><span class="p">]</span> <span class="o">=</span> <span class="n">coin_count</span>
    
    <span class="c1"># 최종적으로 계산된 값 반환</span>
    <span class="k">return</span> <span class="n">min_coins</span><span class="p">[</span><span class="n">change</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">make_change_3</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">25</span><span class="p">],</span> <span class="mi">63</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6
</pre></div>
</div>
</div>
</div>
<p><strong>잔돈 지불 방법 출력</strong></p>
<p>지불에 필요한 최소 동전 수와 함께
실제로 어떻게 지불해야하는가를 알려주도록 하려면
지불에 사용되는 동전을 기억해 두면 된다.
아래 코드의 <code class="docutils literal notranslate"><span class="pre">coins_used</span></code> 는 특정 액수의 잔돈을 지불할 때 가장 마지막에 사용되는 동전을 기억한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>

<span class="k">def</span> <span class="nf">make_change_4</span><span class="p">(</span><span class="n">coin_value_list</span><span class="p">,</span> <span class="n">change</span><span class="p">):</span>
    <span class="n">min_coins</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
    <span class="n">coins_used</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>  <span class="c1"># 특정 액수의 잔돈을 지불할 때 사용되는 마지막 동전 기억.</span>
    
    <span class="c1"># 1원부터 차례대로 최소 동전 수 계산</span>
    <span class="k">for</span> <span class="n">changeToMake</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">change</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="n">coin_count</span> <span class="o">=</span> <span class="n">changeToMake</span> <span class="c1"># 가장 큰 값으로 시작</span>
        <span class="n">new_coin</span> <span class="o">=</span> <span class="mi">1</span>              <span class="c1"># 마지막으로 사용된 코인 저장 용도. 1원부터 시작</span>

        <span class="n">available_coins</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">coin_value_list</span> <span class="k">if</span> <span class="n">c</span> <span class="o">&lt;=</span> <span class="n">changeToMake</span><span class="p">]</span> <span class="c1"># 사용 가능한 동전 목록</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">available_coins</span><span class="p">:</span>
            <span class="c1"># 하나의 동전을 사용한 각각의 경우: 이전에 계산되어 저장된 값 활용</span>
            <span class="k">if</span> <span class="n">min_coins</span><span class="p">[</span><span class="n">changeToMake</span> <span class="o">-</span> <span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">coin_count</span><span class="p">:</span>
                <span class="n">coin_count</span> <span class="o">=</span> <span class="n">min_coins</span><span class="p">[</span><span class="n">changeToMake</span> <span class="o">-</span> <span class="n">j</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span>
                <span class="n">new_coin</span> <span class="o">=</span> <span class="n">j</span>
        
        <span class="n">min_coins</span><span class="p">[</span><span class="n">changeToMake</span><span class="p">]</span> <span class="o">=</span> <span class="n">coin_count</span>
        <span class="n">coins_used</span><span class="p">[</span><span class="n">changeToMake</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_coin</span>    <span class="c1"># changeToMake 를 지불할 때 사용되는 마지막 동전 기억</span>
    
    <span class="c1"># 최종적으로 계산된 값 반환</span>
    <span class="k">return</span> <span class="n">min_coins</span><span class="p">[</span><span class="n">change</span><span class="p">],</span> <span class="n">coins_used</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">print_coins()</span></code> 함수는 잔돈 지불에 필요한 모든 동전을 출력한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">print_coins</span><span class="p">(</span><span class="n">coins_used</span><span class="p">,</span> <span class="n">change</span><span class="p">):</span>
    <span class="n">coin</span> <span class="o">=</span> <span class="n">change</span>
    <span class="k">while</span> <span class="n">coin</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">this_coin</span> <span class="o">=</span> <span class="n">coins_used</span><span class="p">[</span><span class="n">coin</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">this_coin</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
        <span class="n">coin</span> <span class="o">=</span> <span class="n">coin</span> <span class="o">-</span> <span class="n">this_coin</span>
    <span class="nb">print</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>예를 들어, 63원을 지불하려면 6개의 최소 동전이 필요하며 지불 방식은 다음과 같다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">amount</span> <span class="o">=</span> <span class="mi">63</span>
<span class="n">coin_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">25</span><span class="p">]</span>

<span class="n">num_coins</span><span class="p">,</span> <span class="n">coins_used</span> <span class="o">=</span> <span class="n">make_change_4</span><span class="p">(</span><span class="n">coin_list</span><span class="p">,</span> <span class="n">amount</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;잔돈 </span><span class="si">{</span><span class="n">amount</span><span class="si">}</span><span class="s2"> 센트를 지불하기 위해 다음 </span><span class="si">{</span><span class="n">num_coins</span><span class="si">}</span><span class="s2"> 개의 동전 필요:&quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="n">print_coins</span><span class="p">(</span><span class="n">coins_used</span><span class="p">,</span> <span class="n">amount</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>잔돈 63 센트를 지불하기 위해 다음 6 개의 동전 필요: 1 1 1 10 25 25 
</pre></div>
</div>
</div>
</div>
</section>
<section id="id4">
<h2><span class="section-number">17.3. </span>이항 계수<a class="headerlink" href="#id4" title="Permalink to this heading">#</a></h2>
<p>아래 다항 등식에서 사용되는 계수 <span class="math notranslate nohighlight">\({n \choose k}\)</span>를
<strong>이항 계수</strong><font size='2'>binomial coefficients</font>라 한다.</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
(a + b)^n &amp;= a^n + {n\choose 1}a^{n-1}b + {n\choose 2}a^{n-2}b^2 + \cdots + {n\choose n-1} ab^{n-1} + b^n \\
&amp;= \sum_{k=0}^{n} {n\choose k}a^{n-k} b^{k}
\end{align*}
\end{split}\]</div>
<p>이항 계수의 실제 값은 다음과 같다.</p>
<div class="math notranslate nohighlight">
\[
{n\choose k} = \frac{n!}{k! \, (n-k)!}    
\]</div>
<p><strong>조합</strong></p>
<p>이항 계수는 서로 다른 <span class="math notranslate nohighlight">\(n\)</span> 개의 구술에서 임의로 서로 다른 <span class="math notranslate nohighlight">\(k\)</span>개의 구술을
선택하는 방법을 의미하기도 한다.
실제로 다음이 성립한다.</p>
<div class="math notranslate nohighlight">
\[\begin{split}
{n\choose k} = 
\begin{cases}
{n-1 \choose k-1} + {n-1\choose k} &amp; , 0 &lt; k &lt; n\\
&amp; \\
1 &amp; , k \in \{0, n\}
\end{cases}
\end{split}\]</div>
<p><strong>파스칼의 삼각형</strong></p>
<p>이항 계수는 또한 <strong>파스칼의 삼각형</strong>의 항목을 계산하는 방식과도 동일하다.
파스칼의 삼각형은 아래 그림에서 보여지듯이 이전 행의 두 원소를 더해 새로운 원소를 추가하는
과정을 반복해서 생성하는 삼각형이다.</p>
<div align="center"><img src="https://raw.githubusercontent.com/codingrg-hknu/FoundationsOfAlgorithms/master/slides/images/algo03/algo03-01.gif" width="150"/></div>
<p><div style="text-align: center">&lt;그림 출처: <a href="https://en.wikipedia.org/wiki/Pascal%27s_triangle">파스칼의 삼각형(위키피디아)</a>&gt;</div></p><p><strong>이항 계수 계산: 재귀 활용</strong></p>
<p>파스칼의 삼각형에서 n 번 행의 k 번 항목을 계산하는 과정을 재귀로 구현하면 다음과 같다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">bin_coeff</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>
    <span class="c1"># 종료조건</span>
    <span class="k">if</span> <span class="n">k</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">k</span> <span class="o">==</span> <span class="n">n</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span> <span class="c1"># 재귀</span>
        <span class="k">return</span> <span class="n">bin_coeff</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">k</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">bin_coeff</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">make_change1()</span></code> 함수의 경우처럼 매우 비효율적인 알고리즘이다.
실제로 <code class="docutils literal notranslate"><span class="pre">bin_coeff(n,</span> <span class="pre">k)</span></code> 계산을 위해 필요한 <code class="docutils literal notranslate"><span class="pre">bin_coeff()</span></code> 함수 호출 횟수는 다음과 같다.</p>
<div class="math notranslate nohighlight">
\[
2{n\choose k} -1
\]</div>
<p>기본적으로 지수함수 정도의 나쁜 시간복잡도를 갖는다.</p>
<div class="math notranslate nohighlight">
\[
{n\choose k} \approx \frac{n^k}{k!}
\]</div>
<p><strong>이항 계수 계산: 동적계획법 적용</strong></p>
<p><span class="math notranslate nohighlight">\({n \choose k}\)</span>를 계산하기 위해
위 파스칼의 삼각형이 만들어지는 과정을
동적계획법을 적용하여 그대로 따라할 수 있다.</p>
<p>아래 그림은 2차원 행렬 <span class="math notranslate nohighlight">\(B\)</span>의 항목을 파스칼의 삼각형이 만들어지는 과정과 동일한 방식으로 채운다.
단, 숫자가 표시되지 않는 영역은 모두 0으로 채워졌다고 가정한다.</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(B[0][0]\)</span> 에서 시작</p></li>
<li><p>위에서 아래로 재귀 관계식을 적용하여 파스칼의 삼각형을 완성해 나감</p></li>
</ul>
<figure>
<div align="center"><img src="https://raw.githubusercontent.com/codingalzi/algopy/master/notebooks/_images/pascalTriangle.png" width="40%"></div>
</figure><p>그림 내용을 함수로 구현하면 다음과 같다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">bin_coeff2</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>
    <span class="c1"># (n, k) 모양의 2차원 행렬 준비. 리스트 조건제시법 활용</span>
    
    <span class="n">B</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">)]</span>
    
    <span class="c1"># 동적계획법으로 행렬 대각선 이하 부분 채워나가기</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">j</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">j</span> <span class="o">==</span> <span class="n">i</span><span class="p">:</span>
                <span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span>
    
    <span class="k">return</span> <span class="n">B</span><span class="p">[</span><span class="n">n</span><span class="p">][</span><span class="n">k</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>매우 빠르게 계산한다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bin_coeff2</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">14</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>145422675
</pre></div>
</div>
</div>
</div>
<p>동일한 인자에 대해 재귀 함수 <code class="docutils literal notranslate"><span class="pre">bin_coeff1()</span></code>은 2-30초 정도 걸린다.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>

<span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="n">bin_coeff</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="mi">14</span><span class="p">)</span>
<span class="n">end</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">end</span><span class="o">-</span><span class="n">start</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>19.88371253013611
</pre></div>
</div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">bin_coeff2(n,</span> <span class="pre">k)</span></code> 함수의 시간복잡도는 다음과 같다.</p>
<ul class="simple">
<li><p>입력 크기: <span class="math notranslate nohighlight">\(n\)</span>과 <span class="math notranslate nohighlight">\(k\)</span></p></li>
<li><p>계산단위: <code class="docutils literal notranslate"><span class="pre">j</span></code> 변수에 대한 <code class="docutils literal notranslate"><span class="pre">for</span></code> 반복문 실행횟수</p></li>
</ul>
<table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>i 값</p></th>
<th class="head"><p>반복횟수</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>…</p></td>
<td><p>…</p></td>
</tr>
<tr class="row-even"><td><p>k-1</p></td>
<td><p>k</p></td>
</tr>
<tr class="row-odd"><td><p>k</p></td>
<td><p>k+1</p></td>
</tr>
<tr class="row-even"><td><p>k+1</p></td>
<td><p>k+1</p></td>
</tr>
<tr class="row-odd"><td><p>…</p></td>
<td><p>…</p></td>
</tr>
<tr class="row-even"><td><p>n</p></td>
<td><p>k+1</p></td>
</tr>
</tbody>
</table>
<p>따라서 다음이 성립한다.</p>
<div class="math notranslate nohighlight">
\[\begin{split}
\begin{align*}
T(n, k) &amp;= 1 + 2 + 3 + \cdots + k + (k+1)\cdot (n-k+1) \\
&amp;= \frac{(2n-k+2)(k+1)}{2} \\
&amp; \in O(n\,k)
\end{align*}
\end{split}\]</div>
</section>
<section id="id5">
<h2><span class="section-number">17.4. </span>연습 문제<a class="headerlink" href="#id5" title="Permalink to this heading">#</a></h2>
<ol class="arabic simple">
<li><p><a class="reference external" href="https://colab.research.google.com/github/codingalzi/algopy/blob/master/excs/exc-dynamic_programming_1.ipynb">(실습) 최적화 문제와 동적계획법</a></p></li>
</ol>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="trees_heaps_maps_3.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">16. </span>맵(Map)</p>
      </div>
    </a>
    <a class="right-next"
       href="dynamic_programming_2.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">18. </span>플로이드-워셜 알고리즘</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">17.1. 최적화 문제</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">17.2. 잔돈 지불 문제</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">17.3. 이항 계수</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">17.4. 연습 문제</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By 코딩알지
</p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=ac02cc09edc035673794"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>